# Puerto base (prod/ci). En dev usaremos un perfil.
server.port=8080

spring.application.name=ecoestudiante-api

# Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=always

# OpenAPI UI (redirige a /swagger-ui/index.html)
springdoc.api-docs.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# DB por defecto (override con perfiles/variables de entorno)
spring.datasource.url=jdbc:postgresql://localhost:5432/ecoestudiante
spring.datasource.username=eco
spring.datasource.password=eco

spring.jpa.hibernate.ddl-auto=none

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
# spring.flyway.schemas=public   # si usas otro esquema, habilítalo

# (Opcional) logs más claros cuando debuggeas migraciones
# logging.level.org.flywaydb=INFO
# logging.level.org.springframework.jdbc.core=INFO

# JWT Configuration
jwt.secret=YourSecretKeyShouldBeAtLeast256BitsLongForHS512AlgorithmToWorkProperlyAndSecurely
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Mail Configuration
# Para desarrollo: usar servidor SMTP falso (consola)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Configuración de la aplicación
app.base-url=${APP_BASE_URL:http://localhost:3000}
app.mail.from=${MAIL_FROM:noreply@ecoestudiante.com}

# Logging Configuration
logging.level.com.ecoestudiante=INFO
logging.level.com.ecoestudiante.auth=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.mail=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n






# server.port=8080

# spring.application.name=ecoestudiante-api
# management.endpoints.web.exposure.include=health,info,metrics,prometheus
# management.endpoint.health.probes.enabled=true
# management.endpoint.health.show-details=always


# # OpenAPI UI en /swagger-ui.html
# springdoc.api-docs.enabled=true
# springdoc.swagger-ui.path=/swagger-ui.html

# # DB (override via env in docker/k8s)
# spring.datasource.url=jdbc:postgresql://localhost:5432/ecoestudiante
# spring.datasource.username=eco
# spring.datasource.password=eco
# spring.jpa.hibernate.ddl-auto=none
# spring.flyway.enabled=true
