/**
 * Filters Panel - Global Styles Override
 * Enterprise-level CSS architecture for NextUI component override
 * Priority: Maximum specificity to override NextUI's CSS-in-JS
 */

/* =============================================================================
   DROPDOWN POPOVERS - Maximum Contrast Dark Theme
   ============================================================================= */

/* Popover container - Dark background with emerald border */
[data-slot="popover-content"],
.nextui-popover-content,
[role="listbox"] {
  background-color: #0f172a !important; /* slate-900 */
  border: 2px solid #10b981 !important; /* emerald-500 */
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
  border-radius: 12px !important;
  padding: 8px !important;
  max-height: 320px !important;
  overflow-y: auto !important;
  z-index: 9999 !important;
}

/* Listbox container */
[data-slot="listbox"],
.nextui-listbox {
  background-color: #0f172a !important; /* slate-900 */
  padding: 4px !important;
}

/* =============================================================================
   SELECT ITEMS - White text on dark background with hover effects
   ============================================================================= */

/* All select items - Base styles */
[data-slot="list-item"],
[role="option"],
.nextui-list-item,
li[data-key] {
  color: #ffffff !important; /* white */
  background-color: transparent !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  padding: 10px 12px !important;
  margin-bottom: 4px !important;
  border-radius: 8px !important;
  cursor: pointer !important;
  transition: all 150ms ease-in-out !important;
  line-height: 1.4 !important;
}

/* Hover state */
[data-slot="list-item"]:hover,
[role="option"]:hover,
.nextui-list-item:hover,
li[data-key]:hover,
[data-hover="true"] {
  background-color: #334155 !important; /* slate-700 */
  color: #ffffff !important;
  transform: translateX(2px) !important;
}

/* Selected state */
[data-slot="list-item"][data-selected="true"],
[role="option"][aria-selected="true"],
[data-selected="true"],
.nextui-list-item-selected {
  background-color: #10b981 !important; /* emerald-600 */
  color: #ffffff !important;
  font-weight: 700 !important;
}

/* Selected + Hover state */
[data-slot="list-item"][data-selected="true"]:hover,
[role="option"][aria-selected="true"]:hover {
  background-color: #059669 !important; /* emerald-700 */
  color: #ffffff !important;
}

/* Focus state */
[data-slot="list-item"]:focus,
[role="option"]:focus,
[data-focus="true"] {
  outline: 2px solid #10b981 !important;
  outline-offset: 2px !important;
}

/* =============================================================================
   SELECT TRIGGER - Input fields with white background
   ============================================================================= */

/* Trigger button */
[data-slot="trigger"],
[data-slot="selector"],
.nextui-select-trigger {
  background-color: #ffffff !important;
  border: 2px solid #cbd5e1 !important; /* slate-300 */
  border-radius: 12px !important;
  height: 56px !important;
  min-height: 56px !important;
  padding: 12px 16px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  transition: all 200ms ease-in-out !important;
}

/* Trigger hover state */
[data-slot="trigger"]:hover,
[data-slot="selector"]:hover,
.nextui-select-trigger:hover {
  border-color: #10b981 !important; /* emerald-500 */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.15) !important;
}

/* Trigger focus state */
[data-slot="trigger"]:focus-within,
[data-slot="selector"]:focus-within,
[data-focus="true"] {
  border-color: #10b981 !important;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2) !important;
}

/* =============================================================================
   LABELS - Dark text with maximum contrast + OUTSIDE PLACEMENT FIX
   ============================================================================= */

/* Select labels - Base styles */
[data-slot="label"],
.nextui-select-label,
label[data-slot="label"] {
  color: #0f172a !important; /* slate-900 */
  font-weight: 700 !important;
  font-size: 14px !important;
  margin-bottom: 6px !important;
  letter-spacing: 0.025em !important;
}

/*
 * CRITICAL FIX: Label Placement Outside
 * Fuerza separación visual entre label y valor seleccionado
 */

/* Label externo - Posicionamiento absoluto para evitar overlay */
.filter-dropdown-1 [data-slot="label"],
.filter-dropdown-2 [data-slot="label"],
.filter-dropdown-3 [data-slot="label"],
.filter-dropdown-4 [data-slot="label"],
.filter-dropdown-5 [data-slot="label"],
.filter-dropdown-6 [data-slot="label"] {
  display: block !important;
  position: relative !important;
  z-index: 1 !important;
  margin-bottom: 8px !important;
  padding-bottom: 4px !important;
  color: #334155 !important; /* slate-700 */
  font-size: 0.875rem !important; /* 14px */
  font-weight: 600 !important;
  line-height: 1.25rem !important;
  pointer-events: none !important; /* No interfiere con clicks */
}

/* Trigger button - Asegurar que no contenga el label */
.filter-dropdown-1 [data-slot="trigger"],
.filter-dropdown-2 [data-slot="trigger"],
.filter-dropdown-3 [data-slot="trigger"],
.filter-dropdown-4 [data-slot="trigger"],
.filter-dropdown-5 [data-slot="trigger"],
.filter-dropdown-6 [data-slot="trigger"] {
  position: relative !important;
  z-index: 0 !important;
  min-height: 48px !important;
  margin-top: 0 !important;
  padding-top: 12px !important;
  padding-bottom: 12px !important;
}

/* Main wrapper - Asegurar layout vertical */
.filter-dropdown-1,
.filter-dropdown-2,
.filter-dropdown-3,
.filter-dropdown-4,
.filter-dropdown-5,
.filter-dropdown-6 {
  display: flex !important;
  flex-direction: column !important;
  gap: 0 !important;
  position: relative !important;
}

/* =============================================================================
   SELECTED VALUE - Displayed in trigger
   ============================================================================= */

/* Value display */
[data-slot="value"],
.nextui-select-value {
  color: #1e293b !important; /* slate-800 */
  font-weight: 600 !important;
  font-size: 15px !important;
}

/* =============================================================================
   SCROLLBAR - Custom dark scrollbar for dropdowns
   ============================================================================= */

/* Scrollbar track */
[data-slot="popover-content"]::-webkit-scrollbar,
[role="listbox"]::-webkit-scrollbar {
  width: 8px !important;
}

/* Scrollbar track background */
[data-slot="popover-content"]::-webkit-scrollbar-track,
[role="listbox"]::-webkit-scrollbar-track {
  background: #1e293b !important; /* slate-800 */
  border-radius: 4px !important;
}

/* Scrollbar thumb */
[data-slot="popover-content"]::-webkit-scrollbar-thumb,
[role="listbox"]::-webkit-scrollbar-thumb {
  background: #475569 !important; /* slate-600 */
  border-radius: 4px !important;
}

/* Scrollbar thumb hover */
[data-slot="popover-content"]::-webkit-scrollbar-thumb:hover,
[role="listbox"]::-webkit-scrollbar-thumb:hover {
  background: #64748b !important; /* slate-500 */
}

/* =============================================================================
   Z-INDEX MANAGEMENT - Prevent dropdown overlap (FIXED)
   ============================================================================= */

/**
 * ESTRATEGIA CORREGIDA: Z-Index Creciente Progresivo + Boost para Dropdown Abierto
 *
 * Problema anterior: Z-index decreciente (100→50) causaba que dropdowns inferiores
 * se mostraran DETRÁS de labels y elementos superiores.
 *
 * Solución: Z-index CRECIENTE (1001→1006) asegura que cada dropdown esté sobre
 * los anteriores. Además, dropdown abierto recibe z-index: 2000 para estar
 * garantizado en el tope de la jerarquía visual.
 */

/* Progressive z-index CRECIENTE para dropdowns (de top a bottom) */
.filter-dropdown-1 [data-slot="popover-content"] { z-index: 1001 !important; }
.filter-dropdown-2 [data-slot="popover-content"] { z-index: 1002 !important; }
.filter-dropdown-3 [data-slot="popover-content"] { z-index: 1003 !important; }
.filter-dropdown-4 [data-slot="popover-content"] { z-index: 1004 !important; }
.filter-dropdown-5 [data-slot="popover-content"] { z-index: 1005 !important; }
.filter-dropdown-6 [data-slot="popover-content"] { z-index: 1006 !important; }

/* BOOST: Dropdown abierto siempre en el tope absoluto */
.filter-dropdown-1 [data-open="true"] [data-slot="popover-content"],
.filter-dropdown-2 [data-open="true"] [data-slot="popover-content"],
.filter-dropdown-3 [data-open="true"] [data-slot="popover-content"],
.filter-dropdown-4 [data-open="true"] [data-slot="popover-content"],
.filter-dropdown-5 [data-open="true"] [data-slot="popover-content"],
.filter-dropdown-6 [data-open="true"] [data-slot="popover-content"] {
  z-index: 2000 !important; /* Máximo z-index cuando está abierto */
}

/* =============================================================================
   ACCESSIBILITY - Ensure keyboard navigation is visible
   ============================================================================= */

/* Keyboard focus indicator */
[data-slot="list-item"]:focus-visible,
[role="option"]:focus-visible {
  outline: 3px solid #10b981 !important;
  outline-offset: 2px !important;
  background-color: #334155 !important;
}

/* =============================================================================
   ANIMATIONS - Smooth transitions
   ============================================================================= */

/* Popover entrance animation */
@keyframes slideDownAndFade {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[data-slot="popover-content"] {
  animation: slideDownAndFade 150ms ease-out !important;
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile optimizations
   ============================================================================= */

@media (max-width: 768px) {
  [data-slot="popover-content"] {
    max-height: 240px !important;
  }

  [data-slot="trigger"] {
    height: 48px !important;
    min-height: 48px !important;
  }
}

/* =============================================================================
   PRINT STYLES - Hide dropdowns when printing
   ============================================================================= */

@media print {
  [data-slot="popover-content"] {
    display: none !important;
  }
}
